# systemd-networkd

Allows to configure network. ATM doesn't seem to be integrated with NetworkManager, so not for desktop use. But for servers or embedded systems works ok. Configs are to be placed at `/etc/systemd/network/`. For available options see `man systemd.network` *(do not confuse with `systemd-networkd`)*

## Config example

```
$ cat /etc/systemd/network/10-eth0.network
[Match]
Name=eth0

[Network]
Address=192.168.0.2/24

[Route]
Gateway=192.168.0.1
```

## Caveats

* Config naming:
  * should be prefixed with a number, e.g. `10-`. It isn't mandatory, but otherwise, quoting: `the default .network files or those generated by systemd-network-generator.service(8) may take precedence over user configured files`. It's an actual problem, so do not omit the prefix.
  * should be postfixed with `.network`, otherwise networkd gonna just ignore the file.

# Default target

Loosely saying, it's a target to run when system booted. Usually it is `graphical.target`. Can be queried with `systemctl get-default`.

# Debugging

* listing dependencies: `systemctl list-dependencies [optionally.target]`. Won't show services that weren't loaded into memory. Perhaps `systemd-analyze dump` might be more suitable for that. The `list-dependencies` may be useful for debugging errors like `foo.service: Job foo.service/start failed with result 'dependency'`, it's gonna show the service that failed.
